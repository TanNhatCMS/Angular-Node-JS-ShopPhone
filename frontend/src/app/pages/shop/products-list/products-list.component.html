<mat-card
  class="trinta-card products-list-card mb-25 bg-white border-none d-block"
>
  <mat-card-header>
    <mat-card-title>
      <h5 class="mt-0 mb-0">
        Danh sách sản phẩm
      </h5>
    </mat-card-title>
    <mat-card-subtitle>
      <a routerLink="/shop/create-product" class="default-btn" mat-button>
        <i class="ri-add-line"></i> Thêm sản phẩm mới
      </a>
    </mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <div class="products-list-table">
      <div class="table-responsive">
        <table mat-table [dataSource]="dataSource">

          <!-- Product Column -->
          <ng-container matColumnDef="product">
            <th mat-header-cell *matHeaderCellDef class="pl-0">
              Sản phẩm
            </th>
            <td mat-cell *matCellDef="let element" class="pl-0">
              <div class="product-info d-flex align-items-center">
                <a routerLink="/shop/details/{{element._id}}" class="image d-block">
                  <img [src]="element.thumbnail" alt="product-image">
                </a>
                <div class="info">
                  <a routerLink="/shop/details/{{element._id}}" class="d-block fw-semibold">
                    {{element.name}}
                  </a>
                </div>
              </div>
            </td>
          </ng-container>

          <!-- Category Column -->
          <ng-container matColumnDef="category">
            <th mat-header-cell *matHeaderCellDef>
              Danh mục
            </th>
            <td mat-cell *matCellDef="let element" class="text-primary">
              {{element.category}}
            </td>
          </ng-container>

          <!-- Price Column -->
          <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef>
              Giá
            </th>
            <td mat-cell *matCellDef="let element">
              {{element.price}}
            </td>
          </ng-container>

          <!-- Ratings Column -->
          <ng-container matColumnDef="ratings">
            <th mat-header-cell *matHeaderCellDef>
              Đánh giá
            </th>
            <td mat-cell *matCellDef="let element">
              <div class="ratings lh-1">
                <app-rating [rating]="element.ratings.averageRating" [totalRatings]="element.ratings.totalRatings"></app-rating>
              </div>
            </td>
          </ng-container>

          <!-- stockQuantity Column -->
          <ng-container matColumnDef="stockQuantity">
            <th mat-header-cell *matHeaderCellDef>
              Số lượng
            </th>
            <td mat-cell *matCellDef="let element">
              {{element.stockQuantity}}
            </td>
          </ng-container>

          <!-- Action Column -->
          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef class="text-end pr-0">
              Hành động
            </th>
            <td mat-cell *matCellDef="let element" class="text-end pr-0">
              <div class="action">
                <button type="button" mat-button class="p-0 min-w-auto lh-1 h-auto">
                  <i class="ri-edit-line"></i>
                </button>
                <button type="button" (click)="openDeleteDialog(element._id)" mat-button class="p-0 min-w-auto lh-1 h-auto">
                  <i class="ri-delete-bin-line"></i>
                </button>
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

        </table>
      </div>
      <mat-paginator [pageSizeOptions]="[10, 20, 30]"></mat-paginator>
    </div>
  </mat-card-content>
</mat-card>
